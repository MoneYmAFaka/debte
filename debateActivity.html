<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Debate Activity</title>
    <style>
        body { font-family: Arial, sans-serif; text-align: center; margin: 0; padding: 0; }
        .container { padding: 20px; }
        .timer { font-size: 2em; color: orange; }
        .button { padding: 10px 20px; margin: 10px; background-color: blue; color: white; border: none; cursor: pointer; }
        .button:disabled { background-color: gray; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Debate Activity</h1>
        <div id="lobby" style="display: none;">
            <h2>Lobby</h2>
            <p>Participants: <span id="participants"></span></p>
            <button class="button" id="startDebate">Start Debate</button>
        </div>
        <div id="debate" style="display: none;">
            <h2>Debate in Progress</h2>
            <p>Current Speaker: <span id="currentSpeaker"></span></p>
            <p class="timer" id="timer">120</p>
        </div>
        <div id="voting" style="display: none;">
            <h2>Voting</h2>
            <p>Vote for the best argument:</p>
            <div id="voteButtons"></div>
        </div>
        <div id="results" style="display: none;">
            <h2>Results</h2>
            <p>Winner: <span id="winner"></span></p>
            <ul id="voteBreakdown"></ul>
        </div>
    </div>
    <script>
        const participants = ["Alice", "Bob"];
        let currentSpeakerIndex = 0;
        let timer = 120;
        let votes = {};

        document.getElementById('participants').innerText = participants.join(', ');

        document.getElementById('startDebate').addEventListener('click', () => {
            document.getElementById('lobby').style.display = 'none';
            document.getElementById('debate').style.display = 'block';
            startDebate();
        });

        function startDebate() {
            document.getElementById('currentSpeaker').innerText = participants[currentSpeakerIndex];
            const interval = setInterval(() => {
                timer--;
                document.getElementById('timer').innerText = timer;
                if (timer <= 0) {
                    clearInterval(interval);
                    currentSpeakerIndex++;
                    if (currentSpeakerIndex < participants.length) {
                        timer = 120;
                        startDebate();
                    } else {
                        startVoting();
                    }
                }
            }, 1000);
        }

        function startVoting() {
            document.getElementById('debate').style.display = 'none';
            document.getElementById('voting').style.display = 'block';
            const voteButtons = document.getElementById('voteButtons');
            participants.forEach((participant, index) => {
                const button = document.createElement('button');
                button.className = 'button';
                button.innerText = participant;
                button.addEventListener('click', () => {
                    votes[participant] = (votes[participant] || 0) + 1;
                    document.getElementById('voting').style.display = 'none';
                    displayResults();
                });
                voteButtons.appendChild(button);
            });
        }

        function displayResults() {
            document.getElementById('results').style.display = 'block';
            const winner = Object.keys(votes).reduce((a, b) => votes[a] > votes[b] ? a : b);
            document.getElementById('winner').innerText = winner;
            const voteBreakdown = document.getElementById('voteBreakdown');
            Object.entries(votes).forEach(([participant, count]) => {
                const li = document.createElement('li');
                li.innerText = `${participant}: ${count} votes`;
                voteBreakdown.appendChild(li);
            });
        }
    </script>
</body>
</html>
