-- Load Arrayfield UI library with error handling
local Arrayfield
local success, result = pcall(function()
    return loadstring(game:HttpGet("https://raw.githubusercontent.com/UI-Interface/CustomFIeld/main/RayField.lua"))()
end)

if not success then
    warn("Failed to load Arrayfield UI library: " .. tostring(result))
    return
end
Arrayfield = success and result or nil

-- Initialize services
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local UserInputService = game:GetService("UserInputService")

-- Auto Tap loop
local autoTapEnabled = false
local function autoTapLoop()
    task.spawn(function()
        while autoTapEnabled do
            local args = {}
            pcall(function()
                ReplicatedStorage:WaitForChild("Events", 9e9):WaitForChild("Click", 9e9):FireServer(unpack(args))
            end)
            task.wait(0.05) -- adjust delay as needed
        end
    end)
end

-- Create UI
local Window = Arrayfield:CreateWindow({
    Name = "Auto Features Hub",
    LoadingTitle = "Loading Interface",
    LoadingSubtitle = "by xAI",
    ConfigurationSaving = {
        Enabled = true,
        FolderName = "AutoHub",
        FileName = "Config"
    }
})

local MainTab = Window:CreateTab("Main", 4483362458)
local MainSection = MainTab:CreateSection("Auto Features", false)

-- Auto Tap Toggle
MainTab:CreateToggle({
    Name = "Auto Tap",
    Info = "Loops Events.Click",
    CurrentValue = false,
    Flag = "AutoTap",
    Callback = function(Value)
        autoTapEnabled = Value
        if Value then
            autoTapLoop()
        end
    end,
})

-- UI Close Hotkey (default: E)
local closeKey = Enum.KeyCode.E
UserInputService.InputBegan:Connect(function(input)
    if input.KeyCode == closeKey then
        Window:Destroy()
    end
end)

MainTab:CreateLabel("Auto Tap ready.", MainSection)
